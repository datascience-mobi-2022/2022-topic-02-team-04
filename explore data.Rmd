---
title: "Exploring data"
output: html_document
date: '2022-05-12'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library("ggplot2")
#loading the data from the gitignore storage
#tcga_exp = readRDS("data/tcga_tumor_log2TPM.RDS")
tcga_exp_cleaned = readRDS("data/tcga_exp_cleaned.RDS")
tcga_annot = readRDS("data/tcga_tumor_annotation.RDS")
#tcga_tumor_norm = readRDS("data/tcga_tumor_normal_datascience_proj_2022.RDS")
#genesets = readRDS("data/hallmarks_genesets.rds")
```
#test plot zum lernen und üben
```{r}
ggplot(tcga_annot, aes(age_at_initial_pathologic_diagnosis,color=cancer_type_abbreviation ))+ geom_histogram(fill="#AFFFFF")

```

#dataframe für Varianz un Mittelwert aller Gene (gerade nicht alle weil die daten zum rechnen zu groß sind)
```{r}
tcga_exp_var_mean <- data.frame(varianz=apply(tcga_exp_cleaned[1:100,],1,var),mittelwert=apply(tcga_exp_cleaned[1:100,],1,mean))

```

#plot aller mittelwerte gegen die Varianz aller Gene
```{r}
ggplot(tcga_exp_var_mean, aes(mittelwert, varianz))+ geom_point(color="#808080",shape=1)
```
#ermitteln weniger gene mit hoher Varianz um Boxplotts zwischen ausgewählten Tumor Typen zu plotten
```{r}
tcga_exp_var_mean_orderd <- order(tcga_exp_var_mean[,"varianz"])
tgca_exp_tumortype <- data.frame(tcga_annot$cancer_type_abbreviation,t(tcga_exp_cleaned[tcga_exp_var_mean_orderd[1:5],]))
colnames(tgca_exp_tumortype) <- c("type","exp1","exp2","exp3","exp4","exp5")

tumor_types <-unique(tgca_exp_tumortype$type)

```

#vorerst nur 1. plot weil ich nicht weiß wie es mehrere plotts zusammen macht
```{r}
ggplot(tgca_exp_tumortype, aes(type, exp1))+ geom_boxplot()
```

